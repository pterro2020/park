Объяснение SAST and DAST Scan with Deployment for Django Project
1. Сборка Django-проекта
Установка зависимостей : Устанавливаем зависимости из requirements.txt.
Проверка миграций : Выполняем python manage.py check --deploy для проверки конфигурации и makemigrations --dry-run --check для проверки необходимости миграций.
Запуск локального сервера : Запускаем Django-сервер на порту 8000.
2. SAST проверка
Bandit для Python : Анализируем Python-код с помощью Bandit.
ESLint для JavaScript : Проверяем JavaScript-файлы в директории static/js с помощью ESLint.
Stylelint для CSS : Проверяем CSS-файлы в директории static/css с помощью Stylelint.
3. DAST проверка с OWASP ZAP
Запуск ZAP через Docker : Используем официальный Docker-образ owasp/zap2docker-stable для сканирования развернутого Django-приложения.
Активное сканирование : Выполняем активное сканирование (ascan) целевого URL (http://localhost:8000/).
Генерация отчетов : Создаем HTML и JSON-отчеты о результатах сканирования.
4. Выгрузка результатов в Issues
Выгрузка SAST отчетов : Генерируемые Bandit, ESLint и Stylelint отчеты выгружаются как артефакты.
Выгрузка DAST отчетов : Отчеты ZAP также выгружаются как артефакты.
Создание Issues : В Issues добавляем краткие результаты и ссылки на скачивание отчетов.
Дополнительные детали:
1. Django-конфигурация
Для работы Django-сервера в GitHub Actions убедитесь, что:
Файл manage.py присутствует.
Все необходимые зависимости указаны в requirements.txt.
2. SAST инструменты
Bandit : Проверяет Python-код на наличие уязвимостей.
ESLint : Проверяет JavaScript-код на соответствие стандартам и потенциальные проблемы.
Stylelint : Проверяет CSS-код на соответствие стандартам.
3. DAST со ZAP
Используем Docker для запуска ZAP, чтобы избежать проблем с установкой и путями.
Активное сканирование выполняется для URL http://localhost:8000/.
4. Обработка больших файлов
Если отчеты слишком большие, они выгружаются как артефакты GitHub Actions.
В Issues добавляются ссылки на скачивание этих артефактов.
